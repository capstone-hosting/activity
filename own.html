<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenture</title>
    <!-- Font imports -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Public+Sans:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Leaflet Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    
    <!-- JSPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    screens: {
                        'sm': '300px',  // (phones)
                        'md': '768px',  // (tablets)
                        'lg': '1025px', // (laptops/desktops)
                        'xl': '1280px', // Extra large devices
                        '2xl': '1536px' // Extra extra large screens
                    },
                },
            },
        }
    </script>

    <style>
        /* Map container styling */
        #map { 
            height: 500px; 
            z-index: 0;
        }
        
        /* Location item styling */
        .location-item img { 
            width: 80px; 
            height: 80px; 
            object-fit: cover; 
            margin-right: 1rem; 
        }
        
        /* Tab styling */
        .tab-button { 
            cursor: pointer; 
            padding: 10px 20px; 
            margin-right: 5px;  
        }
        
        .active-tab { 
            border-bottom: 2px solid black; 
            font-weight: 600;
        }
        
        /* Day content display */
        .day-content { 
            display: none; 
        }
        
        .day-content.active { 
            display: block; 
        }
        
        /* Arrow animation */
        .arrowDown {
            transition: transform 0.3s ease;
        }
        
        .rotate-180 {
            transform: rotate(180deg);
        }
        
        /* Summary page styling */
        .location-item {
            padding: 10px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        
        .location-item h4 {
            font-weight: bold;
        }
        
        /* Section visibility */
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
    </style>
</head>

<body style="font-family: 'DM Sans', sans-serif;" class="bg-white text-[#101010] scroll-smooth">


        <!-- HEADER -->
        <header class=" fixed top-0 w-full z-20 bg-white">
            <div class="flex justify-between items-center px-10 py-3 relative duration-300 ease-in-out 2xl:w-[65%] m-auto">
                <div class="flex items-center">
                    <img src="logo.png" alt="logo" class="w-10">
                    <h1 class="text-[20px] md:text-[24px] font-medium cursor-pointer">Vigenture</h1>
                </div>
    
                <NAV class="hidden md:flex absolute left-1/2 transform -translate-x-1/2 text-sm font-semibold">
                    <ul class="flex space-x-4">
                        <li onclick="scrollToTop()" class="hover:text-[#2986FE] duration-200 ease-in-out cursor-pointer px-2 py-1 w-20 text-center font-normal rounded-xl">Home</li>
      
                        <!-- Explore NAV -->
                        <li class="relative">
                            <button class="cursor-pointer flex items-center justify-center hover:text-[#2986FE] px-2 py-1 rounded-xl font-normal duration-200 ease-linear w-20 text-center" onclick="toggleDropdown('exploreDropdown', event)">Explore <span>
                                <svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="exploreDropdown" class="hidden absolute bg-[#F9F9FB] shadow-xl rounded-lg w-max top-[35px]">
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-t-lg font-normal"><a href="attractions.html">Attractions</a></li>
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 font-normal"><a href="activities.html">Activities</a></li>
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-b-lg font-normal"><a href="localfoods.html">Local Foods</a></li>
                            </ul>
                        </li>
      
                        <!-- Trips NAV -->
                        <li class="relative group">
                            <button class="cursor-pointer flex items-center justify-center hover:text-[#2986FE] px-2 font-normal py-1 rounded-xl duration-200 ease-linear w-20 text-center" onclick="toggleDropdown('tripsDropdown', event)">Trips <span><svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="tripsDropdown" class="hidden absolute bg-[#F9F9FB] shadow-xl rounded-lg w-max top-[35px]">
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-t-lg font-normal"><a href="#">View my trips</a></li>
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 font-normal"><a href="#">Create your own itinerary</a></li>
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-b-lg font-normal"><a href="#">Create itinerary with us</a></li>
                            </ul>
                        </li>
      
                        <!-- Services NAV -->
                        <li class="relative">
                            <button class="cursor-pointer flex items-center justify-center hover:text-[#2986FE] px-2 py-1 font-normal rounded-xl duration-200 ease-linear w-20 text-center" onclick="toggleDropdown('servicesDropdown', event)">Services <span><svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="servicesDropdown" class="hidden absolute bg-[#F9F9FB] shadow-xl rounded-lg w-max top-[35px]">
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-t-lg font-normal"><a href="#">View my bookings</a></li>
                                <li class="hover:bg-[#E4E7EC] duration-200 ease-linear px-4 py-2 hover:rounded-b-lg font-normal"><a href="#">Car rental</a></li>
                            </ul>
                        </li>
                    </ul>
                </NAV>
      
    <!-- LOGIN -->
    <div class="hidden md:flex items-center space-x-3 text-sm font-semibold justify-center cursor-pointer">
        <input type="search" placeholder="Search..." class="md:hidden lg:block border p-1 outline-none focus:outline-none focus:ring-2 focus:ring-[#2986FE] duration-300 ease-in-out rounded-md font-normal">
    
        <ul>
            <li class="relative">
                <div class="flex justify-evenly items-center">
                    <button id="nameDropdownBtn" class="font-normal cursor-pointer rounded-[99px] duration-200 ease-linear px-2 py-0.5 flex items-center" onclick="toggleDropdownName('nameDropdown', event)">John
                        <span class="text-[10px]">                            <svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                            <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                        </svg></span>
                    </button>
                </div>
    
                <ul id="nameDropdown" class="hidden absolute bg-white shadow-xl rounded-lg w-[200px] left-[-101px] top-[30px]">
                    <div class="mb-4">
                        <img src="defaultPFP.png" alt="defaultPFP" class="w-[55px] rounded-[99px] m-auto mb-3 mt-3">
                        <h1 class="font-medium text-center">John Doe</h1>
                    </div>
                    <div class="flex font-normal h-fit items-center px-2 py-0.5 hover:bg-[#E4E7EC] duration-200 ease-linear">
                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 27 27" >
                            <path fill="#0e1111" d="M13 0C5.925 0 0 5.08 0 11.5c0 3.03 1.359 5.748 3.5 7.781a6.7 6.7 0 0 1-1.094 1.875A16.5 16.5 0 0 1 .375 23.22A1 1 0 0 0 1 25c2.215 0 3.808-.025 5.25-.406c1.29-.342 2.399-1.058 3.531-2.063c1.03.247 2.093.469 3.219.469c7.075 0 13-5.08 13-11.5S20.075 0 13 0m0 2c6.125 0 11 4.32 11 9.5S19.125 21 13 21c-1.089 0-2.22-.188-3.25-.469a1 1 0 0 0-.938.25c-1.125 1.079-1.954 1.582-3.062 1.875c-.51.135-1.494.103-2.188.157c.14-.158.271-.242.407-.407c.786-.96 1.503-1.975 1.719-3.125a1 1 0 0 0-.344-.937C3.249 16.614 2 14.189 2 11.5C2 6.32 6.875 2 13 2m-1.906 3.906a1 1 0 0 0-.469.25l-1.5 1.407l1.344 1.468l1.187-1.125h2.406L15 8.97v1.469l-2.563 1.718A1 1 0 0 0 12 13v2h2v-1.438l2.563-1.718A1 1 0 0 0 17 11V8.594a1 1 0 0 0-.25-.656l-1.5-1.688a1 1 0 0 0-.75-.344h-3.188a1 1 0 0 0-.218 0M12 16v2h2v-2z" />
                        </svg>
                        <li class="px-4 py-2"><a href="#">How it works</a></li>
                    </div>
                    <div class="flex font-normal h-fit items-center px-2 py-0.5 hover:bg-[#E4E7EC] duration-200 ease-linear">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 32 32">
                            <path fill="#0e1111" d="M27 16.76v-1.53l1.92-1.68A2 2 0 0 0 29.3 11l-2.36-4a2 2 0 0 0-1.73-1a2 2 0 0 0-.64.1l-2.43.82a11 11 0 0 0-1.31-.75l-.51-2.52a2 2 0 0 0-2-1.61h-4.68a2 2 0 0 0-2 1.61l-.51 2.52a11.5 11.5 0 0 0-1.32.75l-2.38-.86A2 2 0 0 0 6.79 6a2 2 0 0 0-1.73 1L2.7 11a2 2 0 0 0 .41 2.51L5 15.24v1.53l-1.89 1.68A2 2 0 0 0 2.7 21l2.36 4a2 2 0 0 0 1.73 1a2 2 0 0 0 .64-.1l2.43-.82a11 11 0 0 0 1.31.75l.51 2.52a2 2 0 0 0 2 1.61h4.72a2 2 0 0 0 2-1.61l.51-2.52a11.5 11.5 0 0 0 1.32-.75l2.42.82a2 2 0 0 0 .64.1a2 2 0 0 0 1.73-1l2.28-4a2 2 0 0 0-.41-2.51ZM25.21 24l-3.43-1.16a8.9 8.9 0 0 1-2.71 1.57L18.36 28h-4.72l-.71-3.55a9.4 9.4 0 0 1-2.7-1.57L6.79 24l-2.36-4l2.72-2.4a8.9 8.9 0 0 1 0-3.13L4.43 12l2.36-4l3.43 1.16a8.9 8.9 0 0 1 2.71-1.57L13.64 4h4.72l.71 3.55a9.4 9.4 0 0 1 2.7 1.57L25.21 8l2.36 4l-2.72 2.4a8.9 8.9 0 0 1 0 3.13L27.57 20Z" />
                            <path fill="#0e1111" d="M16 22a6 6 0 1 1 6-6a5.94 5.94 0 0 1-6 6m0-10a3.91 3.91 0 0 0-4 4a3.91 3.91 0 0 0 4 4a3.91 3.91 0 0 0 4-4a3.91 3.91 0 0 0-4-4" />
                        </svg>
                        <li class="px-4 py-2"><a href="#">Settings</a></li>
                    </div>
                    <div class="flex font-normal h-fit items-center px-2 py-0.5 text-[#C0000A] hover:bg-red-500 duration-200 ease-linear">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24">
                            <g fill="none" stroke="#C0000A" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                                <path d="M14 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2" />
                                <path d="M9 12h12l-3-3m0 6l3-3" />
                            </g>
                        </svg>
                        <li class="px-4 py-2"><a href="#">Log out</a></li>
                    </div>
                </ul>
            </li>
        </ul>
    </div>
      
                <!-- Mobile Menu Button(Para Sidebar) -->
                <button class="md:hidden text-2xl hover:text-[#2986FE] duration-200 ease-linear" onclick="toggleMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="#101010" d="M4 6a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1m0 12a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1m7-7a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2z" />
                    </svg>
                </button>
      
                <!-- Sidebar (Hidden) -->
                <div id="mobileSidebar" class="fixed top-0 left-0 w-full h-full bg-white transform translate-x-full transition-transform duration-200 ease-linear z-50">
                    <div class="p-5 flex justify-between items-center">
                        <div class="flex items-center">
                            <img src="logo.png" alt="logo" class="w-10">
                            <h1 class="text-[20px] font-medium cursor-pointer"><a href="landing.html">Vigenture</a></h1>
                        </div>
                        <button onclick="toggleMenu()" class="text-[25px] hover:rotate-90 duration-200 ease-linear hover:text-[#C0000A]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <path fill="#101010" d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                        </svg></button>
                    </div>
    
                    <ul class="mt-5 space-y-10 px-5">
                        <li>
                            <button onclick="toggleDropdown('mobileExploreDropdown')" class="w-full flex items-center text-left text-[16px] hover:text-[#366FD7] duration-200 ease-linear font-normal">Explore <span>
                                <svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="mobileExploreDropdown" class="hidden space-y-2 bg-[#E4E7EC] rounded-md">
                                <li><a href="attractions.html" class="block hover:bg-gray-300 rounded-t-md py-2 px-2 duration-200 ease-linear">Attractions</a></li>
                                <li><a href="activities.html" class="block hover:bg-gray-300 py-2 px-2 duration-200 ease-in-out">Activities</a></li>
                                <li><a href="localfoods.html" class="block hover:bg-gray-300 rounded-b-md py-2 px-2 duration-300 ease-in-out">Local Foods</a></li>
                            </ul>
                        </li>
                        <li>
                            <button onclick="toggleDropdown('mobileTripsDropdown')" class="w-full flex items-center text-left text-[16px] hover:text-[#366FD7] duration-200 ease-linear font-normal">Trips <span><svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="mobileTripsDropdown" class="hidden space-y-2 border bg-[#E4E7EC] rounded-md">
                                <li><a href="#" class="block hover:bg-gray-300 rounded-t-md py-2 px-2 duration-200 ease-linear">View my trips</a></li>
                                <li><a href="#" class="block hover:bg-gray-300 py-2 px-2 duration-200 ease-linear">Create your own itinerary</a></li>
                                <li><a href="#" class="block hover:bg-gray-300 rounded-b-md py-2 px-2 duration-200 ease-linear">Create itinerary with us</a></li>
                            </ul>
                        </li>
                        <li>
                            <button onclick="toggleDropdown('mobileServicesDropdown')" class="w-full flex items-center text-left text-[16px] hover:text-[#366FD7] duration-200 ease-linear font-normal ">Services <span><svg class="arrowDown" xmlns="http://www.w3.org/2000/svg" width="16" height="7" viewBox="0 0 16 7">
                                <path fill="currentColor" d="M8 6.5a.47.47 0 0 1-.35-.15l-4.5-4.5c-.2-.2-.2-.51 0-.71s.51-.2.71 0l4.15 4.15l4.14-4.14c.2-.2.51-.2.71 0s.2.51 0 .71l-4.5 4.5c-.1.1-.23.15-.35.15Z" />
                            </svg></span></button>
                            <ul id="mobileServicesDropdown" class="hidden space-y-2 border bg-[#E4E7EC] rounded-md">
                                <li><a href="#" class="block hover:bg-gray-300 rounded-t-md py-2 px-2 duration-200 ease-linear">View my bookings</a></li>
                                <li><a href="#" class="block hover:bg-gray-300 rounded-b-md py-2 px-2 duration-200 ease-linear">Car rental</a></li>
                            </ul>
                        </li>
                        <hr>
                        <li>
                            <a href="how.html">
                                <button class="w-full flex items-center text-left text-[16px] hover:text-[#366FD7] duration-200 ease-linear font-normal "><span class="mr-1.5">                                      <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 27 27" >
                                    <path fill="#0e1111" d="M13 0C5.925 0 0 5.08 0 11.5c0 3.03 1.359 5.748 3.5 7.781a6.7 6.7 0 0 1-1.094 1.875A16.5 16.5 0 0 1 .375 23.22A1 1 0 0 0 1 25c2.215 0 3.808-.025 5.25-.406c1.29-.342 2.399-1.058 3.531-2.063c1.03.247 2.093.469 3.219.469c7.075 0 13-5.08 13-11.5S20.075 0 13 0m0 2c6.125 0 11 4.32 11 9.5S19.125 21 13 21c-1.089 0-2.22-.188-3.25-.469a1 1 0 0 0-.938.25c-1.125 1.079-1.954 1.582-3.062 1.875c-.51.135-1.494.103-2.188.157c.14-.158.271-.242.407-.407c.786-.96 1.503-1.975 1.719-3.125a1 1 0 0 0-.344-.937C3.249 16.614 2 14.189 2 11.5C2 6.32 6.875 2 13 2m-1.906 3.906a1 1 0 0 0-.469.25l-1.5 1.407l1.344 1.468l1.187-1.125h2.406L15 8.97v1.469l-2.563 1.718A1 1 0 0 0 12 13v2h2v-1.438l2.563-1.718A1 1 0 0 0 17 11V8.594a1 1 0 0 0-.25-.656l-1.5-1.688a1 1 0 0 0-.75-.344h-3.188a1 1 0 0 0-.218 0M12 16v2h2v-2z" />
                                </svg> </span> How it works</button>   
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <button class="w-full flex items-center text-left text-[16px] hover:text-[#366FD7] duration-200 ease-linear font-normal "><span class="mr-1.5">                   <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 32 32">
                                    <path fill="#0e1111" d="M27 16.76v-1.53l1.92-1.68A2 2 0 0 0 29.3 11l-2.36-4a2 2 0 0 0-1.73-1a2 2 0 0 0-.64.1l-2.43.82a11 11 0 0 0-1.31-.75l-.51-2.52a2 2 0 0 0-2-1.61h-4.68a2 2 0 0 0-2 1.61l-.51 2.52a11.5 11.5 0 0 0-1.32.75l-2.38-.86A2 2 0 0 0 6.79 6a2 2 0 0 0-1.73 1L2.7 11a2 2 0 0 0 .41 2.51L5 15.24v1.53l-1.89 1.68A2 2 0 0 0 2.7 21l2.36 4a2 2 0 0 0 1.73 1a2 2 0 0 0 .64-.1l2.43-.82a11 11 0 0 0 1.31.75l.51 2.52a2 2 0 0 0 2 1.61h4.72a2 2 0 0 0 2-1.61l.51-2.52a11.5 11.5 0 0 0 1.32-.75l2.42.82a2 2 0 0 0 .64.1a2 2 0 0 0 1.73-1l2.28-4a2 2 0 0 0-.41-2.51ZM25.21 24l-3.43-1.16a8.9 8.9 0 0 1-2.71 1.57L18.36 28h-4.72l-.71-3.55a9.4 9.4 0 0 1-2.7-1.57L6.79 24l-2.36-4l2.72-2.4a8.9 8.9 0 0 1 0-3.13L4.43 12l2.36-4l3.43 1.16a8.9 8.9 0 0 1 2.71-1.57L13.64 4h4.72l.71 3.55a9.4 9.4 0 0 1 2.7 1.57L25.21 8l2.36 4l-2.72 2.4a8.9 8.9 0 0 1 0 3.13L27.57 20Z" />
                                    <path fill="#0e1111" d="M16 22a6 6 0 1 1 6-6a5.94 5.94 0 0 1-6 6m0-10a3.91 3.91 0 0 0-4 4a3.91 3.91 0 0 0 4 4a3.91 3.91 0 0 0 4-4a3.91 3.91 0 0 0-4-4" />
                                </svg> </span> Settings</button>
                            </a>
                        </li>
                    </ul>
      
                    <div class="absolute bottom-10 left-0 right-0 px-5 flex flex-col space-y-3">
                        <p  class="block cursor-pointer text-center bg-[#C0000A] hover:bg-red-500 text-white border py-2 rounded-md font-semibold transition duration-200 ease-linear">
                            Log Out
                        </p>
                    </div>
      
      
                </div>
      
                <!-- Overlay (Click to Close Sidebar) -->
                <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40" onclick="toggleMenu()"></div>
      
            </div>
        </header>


    <!-- DAY SELECTION SECTION -->
    <section id="daySelection" class="section active 2xl:w-[65%] m-auto mt-[128px] h-80 mb-96">
        <!-- progress line -->
        <div class="border-t border-[#E4E7EC] w-[350px] md:w-[500px] m-auto relative">
            <span class="border-[#0e1111] border absolute w-[350px] md:w-[500px] -top-[1px] -left-[1px]"></span>
            <p class="text-[12px] md:text-[14px] text-[#344054] text-center mt-10 mb-10">1 of 1</p>
        </div>

        <!-- content -->
        <div>
            <div class="text-center">
                <h1 class="text-[28px] md:text-[38px] font-medium">How long do you plan to stay?</h1>
                <p class="text-[16px] md:text-[18px] mt-0.5 text-[#344054]">Tell us how long you want to enjoy Metro Vigan.</p>
            </div>

            <div class="text-center mt-16">
                <p class="text-[12px] md:text-[14px] text-[#344054] mb-0.5">Select your stay duration: 1 to 7 days.</p>
                <input type="number" id="dayCount" placeholder="Enter trip duration" min="1" max="7" required
                    class="border-[#E4E7EC] border w-[300px] p-2 px-4 text-[16px] md:text-[18px] rounded-[10px] bg-white font-normal focus:outline-none focus:ring-2 focus:ring-[#366FD7] duration-300 ease-in-out">

                <div class="mt-48 w-[90%] m-auto text-end">
                    <input onclick="saveDays()" type="submit" value="Submit" id="submit" 
                        class="bg-[#366FD7] px-5 py-1.5 rounded-[99px] text-[#fafafa] font-medium text-[16px] md:text-[18px] cursor-pointer hover:bg-[#2056BB] duration-300 ease-in-out">    
                </div>
            </div>
        </div>
    </section>

    <!-- ITINERARY CREATION SECTION -->
    <section id="createItinerary" class="section">
        <div class="container mx-auto px-4 md:px-14 py-8 mt-20 2xl">
            <h2 class="text-[28px] md:text-[38px] font-medium mb-14">Create Your Own Itinerary</h2>
            
            <!-- Tabs for Days -->
            <div id="dayTabs" class="flex mb-10 border-b-2 w-fit"></div>
        
            <div class="flex justify-between">
                <!-- List days and locations -->
                <div id="dayContent" class="w-[65%] h-full"></div>
            
                <!-- Map -->
                <div id="map" class="my-8 w-[30%] rounded-lg h-full"></div>
            </div>
        
            <!-- Save Button -->
            <button id="saveButton" class="mt-4 bg-[#366FD7] text-[#fafafa] py-1.5 px-6 rounded-[99px]" onclick="saveItinerary()">Save</button>
            
            <!-- Modal for selecting locations -->
            <div class="modal fixed inset-0 bg-gray-500 bg-opacity-50 hidden flex items-start justify-end z-50" id="locationModal">
                <div class="bg-white rounded-lg shadow-lg w-[40%] h-full overflow-auto p-4 relative">
                    <div class="w-full flex justify-end pr-2">
                        <button onclick="closeModal()" class="text-[25px] hover:rotate-90 duration-300 ease-in-out hover:text-[#8B2635]">
                            &times;
                        </button>
                    </div>
            
                    <div class="mb-14 px-8">
                        <h1 class="text-[28px] md:text-[38px] font-semibold">Add attractions to visit</h1>
                        <p class="text-[16px] md:text-[18px] text-[#344054] font-medium mb-4">Search and add new ones to your own trip.</p>
                        <hr>
                    </div>
            
                    <div class="text-center">
                        <input type="text" id="searchInput" class="w-[90%] p-2 border border-gray-300 rounded-md mb-4" placeholder="Search location">
                    </div>
            
                    <div class="text-center">
                        <!-- Filter -->
                        <select id="municipalityFilter" class="w-[90%] p-2 border border-gray-300 rounded-md mb-4">
                            <option value="All">All</option>
                            <option value="Vigan">Vigan</option>
                            <option value="Bantay">Bantay</option>
                            <option value="San Vicente">San Vicente</option>
                            <option value="Santa Catalina">Santa Catalina</option>
                            <option value="Caoayan">Caoayan</option>
                        </select>
                    </div>
            
                    <!-- locations list -->
                    <div id="locationList" class="space-y-2 w-[90%] m-auto"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- SUMMARY SECTION -->
    <section id="summarizeItinerary" class="section">
        <div class="container mx-auto px-4">
            <button onclick="goBack()" id="backBtn" class="mt-6 inline-block text-black underline mb-20 py-2 px-4 rounded-md">Go back</button>
            <h2 class="text-[28px] md:text-[38px] font-medium mb-6">Itinerary Summary</h2>

            <div id="itinerarySummary"></div>
            
            <!-- Buttons -->
            <div class="mt-6">
                <button id="printBtn" class="bg-green-500 text-white py-2 px-4 rounded-md mr-4">Print Itinerary</button>
                <button id="downloadBtn" class="bg-[#336fd7] text-white py-2 px-4 rounded-md">Download as PDF</button>
            </div>
            
            <div id="summaryContainer" class="p-6 mt-8"></div>
        </div>
    </section>

    <script>
        // Global variables
        let currentSection = "daySelection";
        let currentDay = 0;
        let dayCount = 0;
        let markers = [];
        let itineraryData = [];
        
        // Array of locations data
        const locations = [
            { name: "Calle Crisologo", coords: [17.577, 120.387], municipality: "Vigan", type: "Historic Landmark", image: "defaultPFP.png" },
            { name: "Bantay Bell Tower", coords: [17.574, 120.386], municipality: "Bantay", type: "Cultural Experience", image: "defaultPFP.png" },
            { name: "San Vicente Church", coords: [17.5745, 120.3875], municipality: "San Vicente", type: "Nature Experience", image: "defaultPFP.png" },
            { name: "Sta. Catalina Beach", coords: [17.5748, 120.3873], municipality: "Santa Catalina", type: "Cultural Experience", image: "defaultPFP.png" },
            { name: "San Ildefonso Church", coords: [17.5755, 120.3877], municipality: "San Ildefonso", type: "Museum Tour", image: "defaultPFP.png" },
            { name: "Choco Surf", coords: [17.5762, 120.388], municipality: "Caoayan", type: "Historic Landmark", image: "defaultPFP.png" },
        ];
        
        // Switch between sections
        function switchSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the requested section
            document.getElementById(sectionId).classList.add('active');
            currentSection = sectionId;
            
            // Initialize map if switching to create itinerary section
            if (sectionId === 'createItinerary' && !window.mapInitialized) {
                initializeMap();
                window.mapInitialized = true;
            }
        }
        
        // Save number of days and proceed to itinerary creation
        function saveDays() {
            const dayCountInput = document.getElementById("dayCount");
            dayCount = parseInt(dayCountInput.value);
            
            if (dayCount >= 1 && dayCount <= 7) {
                // Initialize itinerary data array based on day count
                itineraryData = Array.from({ length: dayCount }, () => []);
                
                // Switch to itinerary creation section
                switchSection('createItinerary');
                
                // Initialize the itinerary creation interface
                initializeItineraryCreation();
            } else {
                alert("Please enter a valid number between 1 and 7.");
            }
        }
        
        // Initialize map
        function initializeMap() {
            window.map = L.map('map').setView([17.574975, 120.387], 14);
            
            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 12,
                attribution: '&copy; OpenStreetMap'
            }).addTo(window.map);
        }
        
        // Initialize itinerary creation interface
        function initializeItineraryCreation() {
            const dayTabs = document.getElementById("dayTabs");
            const dayContent = document.getElementById("dayContent");
            
            // Clear previous content
            dayTabs.innerHTML = '';
            dayContent.innerHTML = '';
            
            // Create tab buttons and day content containers
            for (let i = 0; i < dayCount; i++) {
                const tabButton = document.createElement("button");
                tabButton.classList.add("tab-button", "text-[#0e1111]");
                tabButton.textContent = `Day ${i + 1}`;
                tabButton.onclick = () => switchDay(i);
                
                const dayDiv = document.createElement("div");
                dayDiv.classList.add("day-content");
                dayDiv.innerHTML = `
                    <h3 class="font-medium text-[24px] md:text-[28px] mb-2">Day ${i + 1}</h3>
                    <p class="text-[16px] md:text-[18px] mb-12 text-[#344054]">Locations Count: <span class="count text-[#366FD7]">0</span></p>
                    <ul class="space-y-2 location-list"></ul>
                    <button class="mt-2 bg-[#0e1111] text-[#fafafa] py-2 px-4 rounded-[99px]" onclick="openModal(${i})">Add Location</button>
                `;
                
                dayContent.appendChild(dayDiv);
                dayTabs.appendChild(tabButton);
            }
            
            // Show the first day by default
            switchDay(0); 
        }
        
        // Function to switch between days
        function switchDay(dayIndex) {
            const allDays = document.querySelectorAll(".day-content");
            allDays.forEach((day) => {
                day.classList.remove("active");
            });
            
            allDays[dayIndex].classList.add("active");
            
            const allTabs = document.querySelectorAll(".tab-button");
            allTabs.forEach((tab) => {
                tab.classList.remove("active-tab");
            });
            allTabs[dayIndex].classList.add("active-tab");
            
            currentDay = dayIndex;
        }
        
        // Open modal to select locations
        function openModal(dayIndex) {
            document.getElementById("locationModal").classList.remove("hidden");
            currentDay = dayIndex;
            renderLocations();
        }
        
        // Close location selection modal
        function closeModal() {
            document.getElementById("locationModal").classList.add("hidden");
        }
        
        // Render available locations based on search and filter
        function renderLocations() {
            const search = document.getElementById("searchInput").value.toLowerCase();
            const filter = document.getElementById("municipalityFilter").value;
            const list = document.getElementById("locationList");
            list.innerHTML = "";
            
            locations.forEach((loc, idx) => {
                if ((filter === "All" || loc.municipality === filter) && loc.name.toLowerCase().includes(search)) {
                    const div = document.createElement("div");
                    div.classList.add("location-item", "flex", "justify-between", "items-center", "p-2", "border", "rounded-lg", "border-gray-300");
                    div.innerHTML = `
                        <div class="flex items-center w-full">
                            <img src="${loc.image}" alt="${loc.name}" class="mr-4 rounded-lg">
                            <div class="h-full mb-5">
                                <div class="font-semibold">${loc.name}</div>
                                <div class="flex">
                                    <div class="text-sm mr-2 bg-[#337FD7] px-1.5 text-[#fafafa] py-0.5 rounded-tl-lg rounded-br-lg">${loc.municipality}</div>
                                    <div class="text-sm bg-[#E4E7EC] px-1.5 text-[#0e1111] py-0.5 rounded-tl-lg rounded-br-lg">${loc.type}</div>
                                </div>
                            </div>
                        </div>
                        <button class="hover:rotate-90 duration-300 ease-in-out hover:scale-110" onclick="addToDay(${idx})">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="#336fd7" fill-rule="evenodd" d="M7.345 4.017a42.3 42.3 0 0 1 9.31 0c1.713.192 3.095 1.541 3.296 3.26a40.7 40.7 0 0 1 0 9.446c-.201 1.719-1.583 3.068-3.296 3.26a42.3 42.3 0 0 1-9.31 0c-1.713-.192-3.095-1.541-3.296-3.26a40.7 40.7 0 0 1 0-9.445a3.734 3.734 0 0 1 3.295-3.26M12 7.007a.75.75 0 0 1 .75.75v3.493h3.493a.75.75 0 1 1 0 1.5H12.75v3.493a.75.75 0 0 1-1.5 0V12.75H7.757a.75.75 0 0 1 0-1.5h3.493V7.757a.75.75 0 0 1 .75-.75" clip-rule="evenodd" />
                            </svg>
                        </button>
                    `;
                    list.appendChild(div);
                }
            });
        }
        
        // Add location to the current day's itinerary
        function addToDay(locationIndex) {
            const location = locations[locationIndex];
            
            // Add marker to map and bind popup
            const marker = L.marker(location.coords).addTo(window.map).bindPopup(location.name);
            
            // Store the marker with the location object
            const locationWithMarker = {
                ...location,
                marker: marker
            };
            
            itineraryData[currentDay].push(locationWithMarker);
            
            renderLocationList();
        }
        
   // Function to render the current day's location list with specified time schedule
function renderLocationList() {
    const daySection = document.querySelectorAll(".day-content")[currentDay];
    const list = daySection.querySelector(".location-list");
    list.innerHTML = ""; 
    
    // Initialize schedule times based on the provided format
    const timeSchedule = [
        { start: "08:00", end: "10:00", label: "8-10", type: "activity" },
        { start: "10:00", end: "12:00", label: "10-12", type: "activity" },
        { start: "12:00", end: "13:00", label: "12-1 lunch", type: "break", emoji: "🍽️", bgColor: "bg-yellow-100" },
        { start: "13:00", end: "15:00", label: "1-3", type: "activity" },
        { start: "15:00", end: "16:00", label: "3-4:00 break/snack", type: "break", emoji: "☕", bgColor: "bg-green-100" },
        { start: "16:00", end: "18:00", label: "4:00-6:00", type: "activity" },
        { start: "18:00", end: "19:00", label: "6-7 souvenir buying time or exploration/sunset", type: "free", emoji: "🛍️", bgColor: "bg-purple-100" },
        { start: "19:00", end: "20:00", label: "7-8 dinner", type: "break", emoji: "🍽️", bgColor: "bg-blue-100" },
        { start: "20:00", end: "21:00", label: "8 dancing fountain (optional)", type: "optional", emoji: "✨", bgColor: "bg-gray-100" }
    ];
    
    // Create a structured timeline with all elements (breaks, activities, etc.)
    const timeline = [...timeSchedule]; // Create a copy of the schedule
    
    // Map user-added locations to available activity slots
    const activitySlots = timeline.filter(slot => slot.type === "activity");
    
    // Add locations to activity slots
    itineraryData[currentDay].forEach((loc, idx) => {
        if (idx < activitySlots.length) {
            // Store the location in the activity slot
            activitySlots[idx].location = loc;
        }
    });
    
    // Render the timeline in order
    timeline.forEach(slot => {
        const item = document.createElement("li");
        
        if (slot.type === "activity" && slot.location) {
            // Render a location
            const timeLabel = `${slot.start} - ${slot.end}`;
            
            item.className = "bg-white border border-gray-200 p-3 rounded flex justify-between items-start";
            item.innerHTML = `
                <div>
                    <strong>${slot.location.name}</strong> <span class="text-sm text-gray-500">(${timeLabel})</span><br>
                    <span class="text-sm">${slot.location.municipality} • ${slot.location.type}</span>
                </div>
            `;
            
            // Remove button
            const removeBtn = document.createElement("button");
            removeBtn.textContent = "Remove";
            removeBtn.className = "ml-4 text-red-600 hover:underline text-sm";
            removeBtn.onclick = (e) => {
                e.stopPropagation(); // Prevent event bubbling
                
                // Find the index of this location in the itineraryData
                const locationIndex = itineraryData[currentDay].findIndex(l => 
                    l.name === slot.location.name && 
                    l.coords[0] === slot.location.coords[0] && 
                    l.coords[1] === slot.location.coords[1]
                );
                
                if (locationIndex !== -1) {
                    // Remove marker from map
                    itineraryData[currentDay][locationIndex].marker.remove();
                    
                    // Remove from itineraryData
                    itineraryData[currentDay].splice(locationIndex, 1);
                    
                    // Re-render the list
                    renderLocationList();
                }
            };
            
            item.appendChild(removeBtn);
            
        } else if (slot.type === "break" || slot.type === "free" || slot.type === "optional") {
            // Render a break, free time or optional activity
            const label = slot.label.charAt(0).toUpperCase() + slot.label.slice(1);
            
            item.innerHTML = `<div class="${slot.bgColor} p-3 rounded">
                ${slot.emoji} ${label} - ${slot.start} to ${slot.end}
            </div>`;
            
        } else if (slot.type === "activity") {
            // Empty activity slot
            item.innerHTML = `<div class="bg-gray-50 p-3 rounded text-gray-400 border border-dashed border-gray-300">
                <span class="text-sm">Empty slot (${slot.start} - ${slot.end})</span>
            </div>`;
        }
        
        list.appendChild(item);
    });
    
    // Update count
    daySection.querySelector(".count").textContent = itineraryData[currentDay].length;
}

// Save the itinerary and proceed to summary view
function saveItinerary() {
    // Use the same schedule structure as in renderLocationList for consistency
    const timeSchedule = [
        { start: "08:00", end: "10:00", label: "Morning Activity", type: "activity" },
        { start: "10:00", end: "12:00", label: "Late Morning Activity", type: "activity" },
        { start: "12:00", end: "13:00", label: "Lunch Break", type: "break" },
        { start: "13:00", end: "15:00", label: "Early Afternoon Activity", type: "activity" },
        { start: "15:00", end: "16:00", label: "Afternoon Break/Snack", type: "break" },
        { start: "16:00", end: "18:00", label: "Late Afternoon Activity", type: "activity" },
        { start: "18:00", end: "19:00", label: "Souvenir Shopping/Exploration", type: "free" },
        { start: "19:00", end: "20:00", label: "Dinner Time", type: "break" },
        { start: "20:00", end: "21:00", label: "Dancing Fountain Show (Optional)", type: "optional" }
    ];
    
    const itineraryWithTime = itineraryData.map((day, dayIndex) => {
        // Create a copy of the time schedule for this day
        const daySchedule = [...timeSchedule];
        
        // Get all activity slots
        const activitySlots = daySchedule.filter(slot => slot.type === "activity");
        
        // Assign locations to activity slots
        day.forEach((location, idx) => {
            if (idx < activitySlots.length) {
                activitySlots[idx].location = location;
            }
        });
        
        // Convert the schedule to the format expected by renderSummary
        const dayPlan = daySchedule.map(slot => {
            if (slot.type === "activity" && slot.location) {
                // A location activity
                return {
                    name: slot.location.name,
                    timeStart: slot.start,
                    timeEnd: slot.end,
                    type: slot.location.type,
                    municipality: slot.location.municipality
                };
            } else if (slot.type === "break") {
                // A break activity
                return {
                    name: slot.label,
                    timeStart: slot.start,
                    timeEnd: slot.end,
                    type: "Break",
                    municipality: ""
                };
            } else if (slot.type === "free") {
                // Free time
                return {
                    name: "Free Time: " + slot.label,
                    timeStart: slot.start,
                    timeEnd: slot.end,
                    type: "Free Time",
                    municipality: ""
                };
            } else if (slot.type === "optional") {
                // Optional activity
                return {
                    name: "Optional: " + slot.label,
                    timeStart: slot.start,
                    timeEnd: slot.end,
                    type: "Optional",
                    municipality: ""
                };
            } else {
                // Empty activity slot - include as placeholder
                return {
                    name: "Free Time",
                    timeStart: slot.start,
                    timeEnd: slot.end,
                    type: "Empty Slot",
                    municipality: ""
                };
            }
        });
        
        return {
            day: `Day ${dayIndex + 1}`,
            activities: dayPlan
        };
    });
    
    // Store the itinerary in memory and display the summary section
    window.savedItinerary = itineraryWithTime;
    switchSection('summarizeItinerary');
    renderSummary();
}

    </script>

    <script>    // FUNCTION FOR NAVBAR DROPDOWN
        document.addEventListener("DOMContentLoaded", function () {
            const navButtons = document.querySelectorAll("nav ul li button"); 
            const dropdowns = document.querySelectorAll("nav ul li ul"); 
    
            navButtons.forEach(button => {
                button.addEventListener("click", function (event) {
                    event.stopPropagation(); // Prevents click event from bubbling up
    
                    // Remove active state and rotation from all buttons
                    navButtons.forEach(btn => {
                        btn.classList.remove("active");
                        btn.style.backgroundColor = "";
                        btn.style.color = "";
                        const arrow = btn.querySelector(".arrowDown");
                        if (arrow) arrow.classList.remove("rotate-180");
                    });
    
                    // Close all dropdowns
                    dropdowns.forEach(dropdown => {
                        dropdown.classList.add("hidden");
                    });
    
                    // Toggle the corresponding dropdown menu
                    const dropdownId = this.getAttribute("onclick").match(/'([^']+)'/)[1]; 
                    const dropdownMenu = document.getElementById(dropdownId);
    
                    if (dropdownMenu.classList.contains("hidden")) {
                        // Open: add styles and rotate arrow
                        this.classList.add("active");
                        this.style.backgroundColor = "#2986FE";
                        this.style.color = "#fafafa";
                        dropdownMenu.classList.remove("hidden");
                        const arrow = this.querySelector(".arrowDown");
                        if (arrow) arrow.classList.add("rotate-180");
                    }
                });
            });
    
            // Click outside to close everything
            document.addEventListener("click", function () {
                navButtons.forEach(btn => {
                    btn.classList.remove("active");
                    btn.style.backgroundColor = "";
                    btn.style.color = "";
                    const arrow = btn.querySelector(".arrowDown");
                    if (arrow) arrow.classList.remove("rotate-180");
                });
    
                dropdowns.forEach(dropdown => {
                    dropdown.classList.add("hidden");
                });
            });
        });
    
    
    
    
        // FUNCTION FOR SIDEBAR NAV MENU(MOBILE VIEW)
        function toggleMenu() {
            const sidebar = document.getElementById("mobileSidebar");
            const overlay = document.getElementById("overlay");
            
            const isOpen = sidebar.classList.contains("translate-x-0");
    
            if (isOpen) {
                sidebar.classList.add("translate-x-full");
                sidebar.classList.remove("translate-x-0");
                overlay.classList.add("hidden");
            } else {
                sidebar.classList.remove("translate-x-full");
                sidebar.classList.add("translate-x-0");
                overlay.classList.remove("hidden");
            }
        }
    
    
        // FUNCTION FOR HOME NAV
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
    
        }
    
    
    
    
    
        //FUNCTION FOR NAME DROPDOWN
        function toggleDropdownName(dropdownId, event) {
            event.stopPropagation();
            
            const dropdown = document.getElementById(dropdownId);
            const button = document.getElementById("nameDropdownBtn");
            const svg = button.querySelector(".arrowDown");
    
            if (dropdown.classList.contains("hidden")) {
                dropdown.classList.remove("hidden");
                button.classList.add("bg-[#2986FE]", "text-white", "rounded-2xl");
                svg.classList.add("rotate-180");
            } else {
                dropdown.classList.add("hidden");
                button.classList.remove("bg-[#2986FE]", "text-white", "rounded-2xl");
                svg.classList.remove("rotate-180");
            }
        }
    
        // Close dropdown on outside click
        document.addEventListener("click", function (event) {
            const dropdown = document.getElementById("nameDropdown");
            const button = document.getElementById("nameDropdownBtn");
    
            // If dropdown is open and clicked outside both dropdown and button
            if (!dropdown.classList.contains("hidden") && !button.contains(event.target)) {
                dropdown.classList.add("hidden");
                button.classList.remove("bg-[#2986FE]", "text-white", "rounded-2xl");
                
                const svg = button.querySelector(".arrowDown");
                svg.classList.remove("rotate-180"); // reset arrow
            }
        });
    
        
    
    
    
    
    
    // Close dropdown when clicking outside
    document.addEventListener("click", function () {
        let dropdown = document.getElementById("nameDropdown");
        let button = document.getElementById("nameDropdownBtn");
    
        if (!dropdown.classList.contains("hidden")) {
            dropdown.classList.add("hidden");
            button.classList.remove("bg-[#2986FE]", "text-white", "rounded-2xl");
        }
    });
    
    
    
    
    
    
    
    function toggleDropdown(dropdownId) {
        const dropdown = document.getElementById(dropdownId);
        const button = document.querySelector(`[onclick="toggleDropdown('${dropdownId}')"]`);
        const arrow = button.querySelector(".arrowDown");
    
        const allDropdowns = document.querySelectorAll("#mobileSidebar ul ul");
        const allArrows = document.querySelectorAll("#mobileSidebar .arrowDown");
    
        allDropdowns.forEach(d => {
            if (d.id !== dropdownId) d.classList.add("hidden");
        });
    
        allArrows.forEach(a => {
            a.classList.remove("rotate-180");
        });
    
        dropdown.classList.toggle("hidden");
        arrow.classList.toggle("rotate-180");
    
        // Remove previous listener to avoid duplicates
        document.removeEventListener("click", handleOutsideClick);
    
        // Add a short timeout to avoid immediate closing from the same click
        setTimeout(() => {
            document.addEventListener("click", handleOutsideClick);
        }, 0);
    
        function handleOutsideClick(e) {
            if (!dropdown.contains(e.target) && !button.contains(e.target)) {
                dropdown.classList.add("hidden");
                arrow.classList.remove("rotate-180");
                document.removeEventListener("click", handleOutsideClick);
            }
        }
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    </script>
</body>
</html>
